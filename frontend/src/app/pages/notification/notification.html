<div class="gallery-layout">

  <header class="gallery-header">
    <div class="header-wrapper">
      <h1 class="logo">Stranger<span class="logo-accent">Drug</span></h1>

      <div class="nav-links">
        <a [routerLink]="['/notification']" class="active">Notificaciones</a>
        <a [routerLink]="['/library']">Biblioteca</a>
        <a [routerLink]="['/home']">Home</a>
      </div>

    </div>
  </header>

  <div class="notifications-container">
    <h2 class="page-title">Notificaciones</h2>

    <!-- Login Warning -->
    <div *ngIf="!isLoggedIn" class="login-warning">
      <p>Para ver tus notificaciones debes iniciar sesiÃ³n primero.</p>
      <button class="btn-login" [routerLink]="['/login']">Iniciar SesiÃ³n</button>
    </div>

    <!-- Notifications List -->
    <div *ngIf="isLoggedIn">
      <div class="notifications-header" *ngIf="notificationsList && notificationsList.length > 0">
        <span class="notif-count">{{ notificationsList.length }} Nuevas</span>
        <button class="btn-clear-all" (click)="clearAllNotifications()">Limpiar todo</button>
      </div>

      <div class="empty-state" *ngIf="!notificationsList || notificationsList.length === 0">
        <div class="empty-icon">ðŸ“­</div>
        <p>No tienes notificaciones nuevas</p>
      </div>

      <div class="notifications-list">
        <div class="notification-card" *ngFor="let notif of notificationsList">
          <div class="notif-icon-wrapper">
            <!-- Icon logic can be simplified or based on message content if type is missing -->
            <div class="notif-icon system">ðŸ””</div>
          </div>

          <div class="notif-content">
            <h3 class="notif-title">NotificaciÃ³n</h3>
            <p class="notif-message">{{ notif.message }}</p>

            <!-- Optional details if available in message or extended properties -->

            <p class="notif-date">{{ formatDate(notif.createdAt) }}</p>
          </div>

          <button class="btn-delete" (click)="deleteNotification(notif.id)" title="Eliminar">
            âœ•
          </button>
        </div>
      </div>
    </div>
  </div>

  <app-footer></app-footer>

</div>